---
id: self-host-scope
title: Self-Host a Scope
---

The easiest way to export your components is to host them on the [Bit Cloud](https://bit.dev). However if you prefer to host them yourself you can do so by creating your own server.

## Creating your own Server

To create your own remote server you can run the `bit init --bare` command. This will create a bare version of Bit.dev that you can use to host your own components.

```bash
mkdir my-server
cd my-server
bit init --bare
```

### Start your Server

To start your server you can run the `bit start` command.

```bash
bit start
```

This will open up the server on the available port eg. `http://localhost:3001`. You will notice that it is an empty remote scope as no components have been exported yet.

### Update your Default Scope

In the `workspace.jsonc` file in the project where your components are, change the default scope to be the name of your server.

```json title=workspace.jsonc
{
  "defaultScope": "my-server"
}
```

:::note
If you have already created some components you will need to modify the import statements in your components to point to the new default Scope. Once you do that run `bit link` to update the links and `bit compile` to compile your components.
:::

### Add your Remote Scope

In the workspace where you want to export your components run the `bit remote add` command followed by the url of where your remote scope is.

```bash
bit remote add http://localhost:3001 // url of the scope
```

### Tag your Components

Your components are now ready to be tagged.

```bash
bit tag --all
```

### Export your Components

You can now export your components to your remote scope on your self hosted server.

```bash
bit export
```

Your components are now all visible on your self hosted remote scope on http://localhost:3001.

:::warning
With a self hosted scope you will only be able to use `bit import` to import components from your remote scope. You can't use `bit install` or `npm install` etc as your components have not been added to a registry.
:::

## Publish your Components to NPM

Although we recommend using Bit Cloud to host your components you can publish your components to the npm registry if you prefer. Bit will create and manage a `package.json` file for each of your components. The `package.json` file can be found in your component's folder inside your node_modules directory. (node_modules/@scope/component-name/package.json). As this file is an auto generated file created and managed by Bit you cannot edit this file directly. Instead Bit provides us with the Pkg aspect which handles the configuration, publishing and packaging or our components.

The `teambit.pkg/pkg` is added to the variants section in your `workspace.jsonc` file. We can apply this to all components by using the `"{*}"` wildcard or to a specific set of components. This gives us better control over publishing our components as we can decide which ones we want to publish and to which remote scopes.

```json {4} title=workspace.jsonc
"teambit.workspace/variants": {
  "{ui/**}": {
      "teambit.react/react": {},
      "teambit.pkg/pkg": {}
    }
}
```

### Make your Components Public

If you want to make your package a public package on npm add `["--access public"]` to the value for `packageManagerPublishArgs`.

```json {4-6} title=workspace.jsonc
"teambit.workspace/variants": {
  "{ui/**}": {
      "teambit.react/react": {},
      "teambit.pkg/pkg": {
        "packageManagerPublishArgs": [
          "--access public"
        ],
      }
    }
}
```

### Override the Package.json

We can override the properties of the `package.json` for all our components at once. To do this we add the `"packageJson"` key and inside our object we add any of the properties we want to override. For the name property we add the dynamic value `"@scope/component-name"`. This will take the scope value from the `defaultScope` property in the `workspace.jsonc` file and append it to the name of your component.

```json {8-11} title=workspace.jsonc
"teambit.workspace/variants": {
  "{ui/**}": {
      "teambit.react/react": {},
      "teambit.pkg/pkg": {
        "packageManagerPublishArgs": [
          "--access public"
        ],
        "packageJson": {
          "name": "@{scope}/{name}",
          "private": false
        }
      }
    }
}
```

:::tip
You can add other key/value pairs to the `package.json` file. For example you can add a `"license"` property to specify the license of your package.
:::

### Setting the Scope and registry

In order to publish our components to the npm registry we first must [login to npm](https://www.npmjs.com/) and add a new **organization/scope** in npm. We can then add the name of this **organization/scope** to the `publishConfig` property under our `"packageJson"`" key. We then need to add the registry url to the `registry` property which in this case is the url to the npm registry.

```json {11-14} title=workspace.jsonc
"teambit.workspace/variants": {
  "{ui/**}": {
      "teambit.react/react": {},
      "teambit.pkg/pkg": {
        "packageManagerPublishArgs": [
          "--access public"
        ],
        "packageJson": {
          "name": "@{scope}/{name}",
          "private": false,
          "publishConfig": {
            "scope": "@test-remote",
            "registry": "https://registry.npmjs.org/"
          }
        }
      }
    }
}
```

### Logging in to npm

In the terminal login to npm so that you can use Bit to publish your components to npm.

```bash
npm login
```

### Publish your Components

In order to publish components they must be tagged by using the `bit tag` command. Bit will run all tests and build the components which includes generating the `package.json` file for each component.

```bash
bit tag --all
```

After tagging is complete components can be exported using the `bit export` command.

```bash
bit export
```

### Use your Components

Your components are now visible on npm and can now be installed to any project or application using `npm install`.

```bash
npm install @scope/component-name
```

:::tip
You can add a README.md file to your component's directories to provide more information about your component.
:::
